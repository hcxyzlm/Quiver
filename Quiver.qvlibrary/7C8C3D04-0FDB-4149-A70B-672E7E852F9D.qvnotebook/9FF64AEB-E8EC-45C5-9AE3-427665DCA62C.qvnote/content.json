{
  "title": "相机和图库的使用",
  "cells": [
    {
      "type": "markdown",
      "data": "## 拍照使用\n1.在info.plist添加相机和图库的权限,NSPhotoLibraryUsageDescription/NSCameraUsageDescription\n2. 拍照\n```objc\nif ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera]) { // 检查是否支持相机\n        UIImagePickerController *picker = [[UIImagePickerController alloc] init];\n        picker.delegate = self;\n        picker.sourceType = UIImagePickerControllerSourceTypeCamera; // 相机的模式\n        \n        [self presentViewController:picker animated:YES completion:nil];\n    }\n    \n```\n3. 图库\n```objc\n if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypePhotoLibrary]) {\n        UIImagePickerController *picker = [[UIImagePickerController alloc] init];\n        picker.delegate = self;\n        picker.sourceType = UIImagePickerControllerSourceTypePhotoLibrary;\n        \n        [self presentViewController:picker animated:YES completion:nil];\n    }\n```\n\n4. 实现UIImagePickerControllerDelegate的协议\n```objc\n\n// 编辑照片保存的处理\n- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingImage:(UIImage *)image editingInfo:(nullable NSDictionary<NSString *,id> *)editingInfo {\n    \n    NSLog(@\"%s\", __func__);\n    \n    UIImage *selectImage = editingInfo[UIImagePickerControllerEditedImage];\n    \n    self.mediaImage.image = selectImage;\n    [self dismissViewControllerAnimated:YES completion:nil];\n    \n}\n\n// 选取/拍摄照片的照片选定\n- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary<NSString *,id> *)info {\n    NSLog(@\"%s\", __func__);\n    UIImage *selectImage = info[UIImagePickerControllerOriginalImage];\n    \n    self.mediaImage.image = selectImage;\n    [self dismissViewControllerAnimated:YES completion:nil];\n    \n}\n\n// 取消的处理\n- (void)imagePickerControllerDidCancel:(UIImagePickerController *)picker {\n    \n    [self dismissViewControllerAnimated:YES completion:nil];\n}\n```"
    }
  ]
}