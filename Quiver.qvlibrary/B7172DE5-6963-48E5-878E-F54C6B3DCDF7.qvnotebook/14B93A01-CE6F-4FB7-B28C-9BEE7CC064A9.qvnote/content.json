{
  "title": "LMKeyValueStore",
  "cells": [
    {
      "type": "markdown",
      "data": "LMKeyValueStore是基于WCDB databas一套缓存框工具。支持网络json缓存\nAbout WCDB : [Tencent/WCDB](https://github.com/Tencent/wcdb) , [微信WCDB进化之路 - 开源与开始](https://mp.weixin.qq.com/s?__biz=MzAwNDY1ODY2OQ%3D%3D&mid=2649286603&idx=1&sn=d243dd27f2c6614631241cd00570e853&chksm=8334c349b4434a5fd81809d656bfad6072f075d098cb5663a85823e94fc2363edd28758ab882&mpshare=1&scene=1&srcid=0609GLAeaGGmI4zCHTc2U9ZX)\n\n## 集成说明\n你可以在 Podfile 中加入下面一行代码来使用YTKKeyValueStore\n```\n  pod \"LMKeyValueStore\"\n```\n\n## 使用教程\n缓存json的封装类为LMKeyValueStore\n\n### 打开（或创建）数据库\n```objc-c\nLMKeyValueStore *store = [[LMKeyValueStore alloc] initDBWithName:@\"test.db\"];\n````\n\n### 创建表\n```objc-c\n[store createTableWithName:@\"test_table\"];\n```\n\n### 操作数据库\n```objc\n// insert\n    NSString *tableName = @\"test_table\";\n    NSString *key1 = @\"key1\";\n    NSString *string = @\"abc1\";\n    [store putCacheString:string withId:key1 intoTable:tableName];\n    \n    // select\n    NSString *result = [store getCacheStringById:key1 fromTable:tableName];\n    \n    // 修改，使缓存过期\n    [store makeCacheExpiredById:key1 fromTable:tableName];\n    \n    // delete\n    [store deletCacheStringById:key1 fromTable:tableName];\n    \n    // delete all objcet\n    [store deleteAllCacheByTableName:tableName];\n```\n\n## 封装wcdb操作类\n 为了隔离c++的代码，不让引用wcdb引用的文件变成mm文件，特地封装了一个wcdb类，进行简单的数据库操作\n接口都封装在LMWCDBOperation，然后更为复杂的操作逻辑建议放在一个分类里面做更为合适\n\n### 使用教程\n```objc\n LMWCDBOperation *storeHelper = [[LMWCDBOperation alloc] initDBWithName:@\"test.db\"];\n    NSString *tableName = @\"test_table\";\n    LMKeyValueItem *item = [[LMKeyValueItem alloc] init];\n    item.itemId = @\"key1\";\n    item.itemObject = @\"abc\";\n    item.createdTime = [NSDate date];\n    \n    // insert\n    [storeHelper insertObject:item into:tableName];\n    \n    // select\n    LMKeyValueItem *result = [storeHelper getOneObjectOfClass:[LMKeyValueItem class] fromTable:tableName bandingColumnName:@\"id\" realID:item.itemId];\n    \n    // modification\n    item.itemObject = @\"def\";\n    // bandingColumnName为oc的mm文件绑定到数据库的字段\n    [storeHelper updateObjectInTable:tableName withObject:item bandingColumnName:@\"id\" realID:item.itemId];\n    \n    // delete\n    [storeHelper deleteObjectFromTable:tableName bandingColumnName:@\"id\" realID:item.itemId];\n```\n"
    }
  ]
}